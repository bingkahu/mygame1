<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Loop Frenzy â€” Oneâ€‘Tap Neon Rush</title>
<meta name="description" content="Loop Frenzy â€” addictive oneâ€‘tap lane jumps, neon particles, frenzy streaks, daily seed, and royaltyâ€‘free music."/>
<style>
  :root {
    --bg:#0b0f14; --panel:#121821; --border:#1f2a38; --text:#e8f0ff; --muted:#9fb3c8;
    --accent:#00d4ff; --accent2:#ff2d6f; --good:#7cff7c; --bad:#ff6b6b; --gold:#ffd166; --violet:#b388ff;
  }
  html,body { margin:0; height:100%; background:var(--bg); color:var(--text); font-family:Inter,system-ui,Segoe UI,Arial; }
  #game { width:100vw; height:100vh; display:block; cursor:pointer; }
  .hidden { display:none !important; }
  #ui { position:fixed; inset:0; pointer-events:none; }
  #hud { position:absolute; top:12px; left:12px; display:flex; gap:12px; pointer-events:auto; flex-wrap:wrap; }
  .pill { background:var(--panel); border:1px solid var(--border); border-radius:10px; padding:8px 12px; font-size:14px; }
  #score { color:var(--good); font-weight:700; }
  #streak { color:var(--accent); }
  #speed { color:var(--violet); }
  #seed { color:var(--muted); }
  #topright { position:absolute; top:12px; right:12px; display:flex; gap:8px; pointer-events:auto; }
  .btn { pointer-events:auto; display:inline-flex; align-items:center; gap:8px; background:var(--accent); color:#001018; border:none; border-radius:10px; padding:10px 14px; font-weight:700; cursor:pointer; }
  .btn.secondary { background:#1b2432; color:var(--text); border:1px solid #2a3a52; }
  .btn.small { padding:6px 10px; font-size:12px; }
  #start, #gameover { position:absolute; inset:0; display:flex; align-items:center; justify-content:center; }
  .card { background:var(--panel); border:1px solid var(--border); border-radius:14px; padding:20px; width:min(720px,92vw); box-shadow:0 10px 30px rgba(0,0,0,.35); }
  .title { font-size:22px; font-weight:700; margin-bottom:8px; }
  .subtitle { color:var(--muted); margin-bottom:16px; }
  .row { display:flex; gap:10px; flex-wrap:wrap; }
  .kbd { background:#0e141d; border:1px solid var(--border); border-radius:8px; padding:6px 8px; font-size:13px; }
  #toast { position:absolute; bottom:12px; left:12px; background:#0e141d; border:1px solid var(--border); border-radius:10px; padding:8px 12px; font-size:13px; pointer-events:none; opacity:0; transform:translateY(8px); transition:opacity .2s, transform .2s; }
  #toast.show { opacity:1; transform:translateY(0); }
  #emoji { position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); font-size:56px; opacity:0; transition:opacity .2s; pointer-events:none; }
</style>
</head>
<body>
<canvas id="game"></canvas>

<!-- Royaltyâ€‘free background music -->
<audio id="bgMusic" src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_7f6b6f8b1d.mp3?filename=neon-gaming-128-bpm-11063.mp3" loop autoplay></audio>

<div id="ui">
  <div id="hud">
    <div class="pill">Score: <span id="score">0</span></div>
    <div class="pill">Streak: <span id="streak">0</span></div>
    <div class="pill">Speed: <span id="speed">1.0x</span></div>
    <div class="pill">Seed: <span id="seed">â€”</span></div>
  </div>

  <div id="topright">
    <button class="btn small" id="btnDaily">Daily</button>
    <button class="btn small" id="btnMute">Mute</button>
  </div>

  <div id="emoji">ðŸ”¥</div>
  <div id="toast">Frenzy!</div>

  <!-- START -->
  <div id="start">
    <div class="card">
      <div class="title">Loop Frenzy â€” Oneâ€‘Tap Neon Rush</div>
      <div class="subtitle">Tap to jump lanes. Collect orbs. Dodge spikes. Chain 5 perfects to trigger Frenzy Mode.</div>
      <div class="row">
        <div class="kbd">Mouse / Space: tap to jump</div>
        <div class="kbd">R: restart</div>
        <div class="kbd">M: mute</div>
      </div>
      <div style="margin-top:16px" class="row">
        <button class="btn" id="play">Play</button>
        <button class="btn secondary" id="daily">Daily Seed</button>
      </div>
      <div class="list" id="leader"></div>
    </div>
  </div>

  <!-- GAME OVER -->
  <div id="gameover" class="hidden">
    <div class="card">
      <div class="title">Loop broken</div>
      <div class="subtitle">Score: <span id="finalScore">0</span> â€” Streak peak: <span id="finalStreak">0</span></div>
      <div class="row">
        <button class="btn" id="again">Play again</button>
      </div>
    </div>
  </div>
</div>

<script>
/* =========================
   UTIL
   ========================= */
const Util = (() => {
  let seed = Date.now()%1000000;
  function setSeed(s){ seed=s; }
  function rand(){ seed^=seed<<13; seed^=seed>>>17; seed^=seed<<5; return ((seed>>>0)/0xFFFFFFFF); }
  const clamp=(v,a,b)=>Math.max(a,Math.min(b,v));
  const now=()=>performance.now();
  function fmt(n){ return n.toLocaleString(); }
  return { setSeed, rand, clamp, now, fmt };
})();

/* =========================
   GAME
   ========================= */
(() => {
  const canvas = document.getElementById('game');
  const ctx = canvas.getContext('2d');
  let W = canvas.width = window.innerWidth;
  let H = canvas.height = window.innerHeight;

  const bgMusic = document.getElementById('bgMusic');
  bgMusic.volume = 0.4;

  // HUD
  const hud = {
    score: document.getElementById('score'),
    streak: document.getElementById('streak'),
    speed: document.getElementById('speed'),
    seed: document.getElementById('seed'),
    start: document.getElementById('start'),
    gameover: document.getElementById('gameover'),
    finalScore: document.getElementById('finalScore'),
    finalStreak: document.getElementById('finalStreak'),
    leader: document.getElementById('leader'),
    toast: document.getElementById('toast'),
    emoji: document.getElementById('emoji'),
  };

  // UI
  const ui = {
    play: document.getElementById('play'),
    daily: document.getElementById('daily'),
    again: document.getElementById('again'),
    btnDaily: document.getElementById('btnDaily'),
    btnMute: document.getElementById('btnMute'),
  };

  // State
  let running=false, t=0, dt=0, last=Util.now();
  let score=0, streak=0, peakStreak=0, speed=1, seedVal=Date.now()%1000000;
  let lane=2, lanes=5, jumpCooldown=0
