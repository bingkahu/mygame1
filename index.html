<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>dick sucker â€” Penis man</title>
<meta name="description" content="Loop Frenzy â€” oneâ€‘tap lane jumps, neon particles, frenzy streaks, daily seed. Addictive, fast, and shareable."/>
<style>
  :root {
    --bg:#0b0f14; --panel:#121821; --border:#1f2a38; --text:#e8f0ff; --muted:#9fb3c8;
    --accent:#00d4ff; --accent2:#ff2d6f; --good:#7cff7c; --bad:#ff6b6b; --gold:#ffd166; --violet:#b388ff;
  }
  html,body { margin:0; height:100%; background:var(--bg); color:var(--text); font-family:Inter,system-ui,Segoe UI,Arial; }
  #game { width:100vw; height:100vh; display:block; cursor:pointer; }
  .hidden { display:none !important; }
  #ui { position:fixed; inset:0; pointer-events:none; }
  #hud { position:absolute; top:12px; left:12px; display:flex; gap:12px; pointer-events:auto; flex-wrap:wrap; }
  .pill { background:var(--panel); border:1px solid var(--border); border-radius:10px; padding:8px 12px; font-size:14px; }
  #score { color:var(--good); font-weight:700; }
  #streak { color:var(--accent); }
  #speed { color:var(--violet); }
  #seed { color:var(--muted); }
  #topright { position:absolute; top:12px; right:12px; display:flex; gap:8px; pointer-events:auto; }
  .btn { pointer-events:auto; display:inline-flex; align-items:center; gap:8px; background:var(--accent); color:#001018; border:none; border-radius:10px; padding:10px 14px; font-weight:700; cursor:pointer; }
  .btn.secondary { background:#1b2432; color:var(--text); border:1px solid #2a3a52; }
  .btn.small { padding:6px 10px; font-size:12px; }
  #start, #gameover, #sharecard { position:absolute; inset:0; display:flex; align-items:center; justify-content:center; }
  .card { background:var(--panel); border:1px solid var(--border); border-radius:14px; padding:20px; width:min(720px,92vw); box-shadow:0 10px 30px rgba(0,0,0,.35); }
  .title { font-size:22px; font-weight:700; margin-bottom:8px; }
  .subtitle { color:var(--muted); margin-bottom:16px; }
  .row { display:flex; gap:10px; flex-wrap:wrap; }
  .kbd { background:#0e141d; border:1px solid var(--border); border-radius:8px; padding:6px 8px; font-size:13px; }
  .list { margin-top:10px; }
  .list .pill { margin-top:6px; }
  #toast { position:absolute; bottom:12px; left:12px; background:#0e141d; border:1px solid var(--border); border-radius:10px; padding:8px 12px; font-size:13px; pointer-events:none; opacity:0; transform:translateY(8px); transition:opacity .2s, transform .2s; }
  #toast.show { opacity:1; transform:translateY(0); }
  #emoji { position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); font-size:56px; opacity:0; transition:opacity .2s; pointer-events:none; }
</style>
</head>
<body>
<canvas id="game"></canvas>

<div id="ui">
  <div id="hud">
    <div class="pill">Score: <span id="score">0</span></div>
    <div class="pill">Streak: <span id="streak">0</span></div>
    <div class="pill">Speed: <span id="speed">1.0x</span></div>
    <div class="pill">Seed: <span id="seed">â€”</span></div>
  </div>

  <div id="topright">
    <button class="btn small" id="btnDaily">Daily</button>
    <button class="btn small" id="btnMute">Mute</button>
    <button class="btn small secondary" id="btnShare">Share</button>
  </div>

  <div id="emoji">ðŸ”¥</div>
  <div id="toast">Frenzy!</div>

  <!-- START -->
  <div id="start">
    <div class="card">
      <div class="title">Loop Frenzy â€” Oneâ€‘Tap Neon Rush</div>
      <div class="subtitle">Tap to jump lanes. Collect dicks. Dodge vaginas. Chain 5 perfects to trigger dick sucking Mode.</div>
      <div class="row">
        <div class="kbd">Mouse / Space: tap to jump</div>
        <div class="kbd">R: restart</div>
        <div class="kbd">M: mute</div>
      </div>
      <div style="margin-top:16px" class="row">
        <button class="btn" id="play">Play</button>
        <button class="btn secondary" id="daily">Daily Seed</button>
      </div>
      <div class="list" id="leader"></div>
    </div>
  </div>

  <!-- GAME OVER -->
  <div id="gameover" class="hidden">
    <div class="card">
      <div class="title">semen cycle broken</div>
      <div class="subtitle">Score: <span id="finalScore">0</span> â€” Streak peak: <span id="finalStreak">0</span></div>
      <div class="row">
        <button class="btn" id="again">Play again</button>
        <button class="btn secondary" id="copy">Copy score</button>
        <button class="btn secondary" id="tweet">Tweet</button>
      </div>
    </div>
  </div>

  <!-- SHARE CARD -->
  <div id="sharecard" class="hidden">
    <div class="card">
      <div class="title">Share your dick sucking</div>
      <div class="subtitle">Generate a social card with your score and streak.</div>
      <div class="row">
        <button class="btn" id="genCard">Generate</button>
        <button class="btn secondary" id="downloadCard">Download</button>
        <button class="btn secondary" id="closeShare">Close</button>
      </div>
      <canvas id="cardCanvas" width="800" height="418" style="margin-top:12px; width:100%; border:1px solid var(--border); border-radius:10px;"></canvas>
    </div>
  </div>
</div>

<script>
/* =========================
   AUDIO (WebAudio)
   ========================= */
const Audio = (() => {
  let ctx, master, sfxGain, musicGain, muted=false;
  function init(){
    if (ctx) return;
    ctx = new (window.AudioContext||window.webkitAudioContext)();
    master = ctx.createGain(); master.connect(ctx.destination);
    sfxGain = ctx.createGain(); sfxGain.gain.value = 0.9; sfxGain.connect(master);
    musicGain = ctx.createGain(); musicGain.gain.value = 0.22; musicGain.connect(master);
    const o1 = ctx.createOscillator(); o1.type='sawtooth'; o1.frequency.value=84;
    const o2 = ctx.createOscillator(); o2.type='triangle'; o2.frequency.value=168;
    const lp = ctx.createBiquadFilter(); lp.type='lowpass'; lp.frequency.value=780;
    o1.connect(lp); o2.connect(lp); lp.connect(musicGain);
    o1.start(); o2.start();
  }
  function play(type='tap'){
    if (!ctx || muted) return;
    const o = ctx.createOscillator(); const g = ctx.createGain();
    o.type = 'square';
    o.frequency.value = type==='frenzy' ? 820 : type==='orb' ? 560 : type==='hit' ? 420 : type==='fail' ? 160 : 320;
    g.gain.value = 0.25; o.connect(g); g.connect(sfxGain);
    o.start(); g.gain.exponentialRampToValueAtTime(0.0001, ctx.currentTime+0.18); o.stop(ctx.currentTime+0.2);
  }
  function toggle(){ muted=!muted; master.gain.value = muted?0:1; }
  return { init, play, toggle, get muted(){return muted;} };
})();

/* =========================
   UTIL
   ========================= */
const Util = (() => {
  let seed = Date.now()%1000000;
  function setSeed(s){ seed=s; }
  function rand(){ seed^=seed<<13; seed^=seed>>>17; seed^=seed<<5; return ((seed>>>0)/0xFFFFFFFF); }
  const clamp=(v,a,b)=>Math.max(a,Math.min(b,v));
  const lerp=(a,b,p)=>a+(b-a)*p;
  const now=()=>performance.now();
  function fmt(n){ return n.toLocaleString(); }
  return { setSeed, rand, clamp, lerp, now, fmt };
})();

/* =========================
   GAME
   ========================= */
(() => {
  const canvas = document.getElementById('game');
  const ctx = canvas.getContext('2d');
  let W = canvas.width = window.innerWidth;
  let H = canvas.height = window.innerHeight;

  // HUD
  const hud = {
    score: document.getElementById('score'),
    streak: document.getElementById('streak'),
    speed: document.getElementById('speed'),
    seed: document.getElementById('seed'),
    start: document.getElementById('start'),
    gameover: document.getElementById('gameover'),
    finalScore: document.getElementById('finalScore'),
    finalStreak: document.getElementById('finalStreak'),
    leader: document.getElementById('leader'),
    toast: document.getElementById('toast'),
    emoji: document.getElementById('emoji'),
    sharecard: document.getElementById('sharecard'),
  };

  // UI
  const ui = {
    play: document.getElementById('play'),
    daily: document.getElementById('daily'),
    again: document.getElementById('again'),
    copy: document.getElementById('copy'),
    tweet: document.getElementById('tweet'),
    btnDaily: document.getElementById('btnDaily'),
    btnMute: document.getElementById('btnMute'),
    btnShare: document.getElementById('btnShare'),
    genCard: document.getElementById('genCard'),
    downloadCard: document.getElementById('downloadCard'),
    closeShare: document.getElementById('closeShare'),
  };

  // State
  let running=false, t=0, dt=0, last=Util.now();
  let score=0, streak=0, peakStreak=0, speed=1, seedVal=Date.now()%1000000;
  let lane=2, lanes=5, jumpCooldown=0, frenzy=false, frenzyTimer=0, failFlash=0;
  let obstacles=[], orbs=[], particles=[], trail=[];
  const laneY = i => 120 + i*((H-200)/lanes);

  // Leaderboard (local)
  function saveScore(){
    const key='loopfrenzy_scores';
    const list = JSON.parse(localStorage.getItem(key)||'[]');
    list.push({ score:Math.floor(score), streak:peakStreak, date:new Date().toISOString() });
    list.sort((a,b)=>b.score-a.score);
    localStorage.setItem(key, JSON.stringify(list.slice(0,10)));
    renderLeader(list.slice(0,10));
  }
  function renderLeader(list){
    hud.leader.innerHTML = '<div style="margin-top:10px"><b>Local Top 10</b></div>' +
      list.map((e,i)=>`<div class="pill">${i+1}. ${Util.fmt(e.score)} pts â€” peak streak ${e.streak}</div>`).join('');
  }

  // Toast & emoji
  let toastTimer=0, emojiTimer=0;
  function toast(msg){ hud.toast.textContent=msg; hud.toast.classList.add('show'); toastTimer=1.2; }
  function emote(e){ hud.emoji.textContent=e; hud.emoji.style.opacity=1; emojiTimer=0.6; }

  // Input
  window.addEventListener('mousedown', jump);
  window.addEventListener('keydown', e=>{
    if(e.code==='Space') jump();
    if(e.key==='r'||e.key==='R') start(seedVal);
    if(e.key==='m'||e.key==='M'){ Audio.toggle(); toast(Audio.muted?'Muted':'Unmuted'); }
  });

  function jump(){
    if(!running) return;
    if(jumpCooldown>0) return;
    lane = (lane + 1) % lanes;
    jumpCooldown = 0.12;
    Audio.play('tap');
    // trail pop
    trail.push({ x: 120, y: laneY(lane), life:0.5 });
  }

  // Build content
  function buildTrack(){
    obstacles=[]; orbs=[];
    const columns = 12;
    for(let c=0;c<columns;c++){
      const x = 160 + c*((W-260)/columns);
      // obstacle lane
      const oLane = Math.floor(Util.rand()*lanes);
      obstacles.push({ x, y: laneY(oLane), r:16 });
      // orb lane (different)
      let orbLane = Math.floor(Util.rand()*lanes);
      if(orbLane===oLane) orbLane = (orbLane+1)%lanes;
      const perfect = Util.rand()<0.35; // chance to be a perfect orb (bigger reward)
      orbs.push({ x: x + 30, y: laneY(orbLane), r: perfect?14:10, perfect });
    }
  }

  // Particles
  function addParticles(x,y,color,n=12){
    for(let i=0;i<n;i++){
      const a=Math.random()*Math.PI*2; const s=60+Math.random()*140;
      particles.push({ x,y,vx:Math.cos(a)*s,vy:Math.sin(a)*s,life:0.5+Math.random()*0.6,color });
    }
  }

  // Update
  function update(){
    const now=Util.now(); dt=Math.min(0.033,(now-last)/1000); last=now;
    if(!running) return;
    t+=dt;

    // Speed ramp every 10s
    if(Math.floor(t/10)!==Math.floor((t-dt)/10)){ speed = Math.min(3.2, speed + 0.15); toast('Speed up!'); }

    // Frenzy decay
    if(frenzy){ frenzyTimer-=dt; if(frenzyTimer<=0){ frenzy=false; } }

    // Jump cooldown
    if(jumpCooldown>0) jumpCooldown-=dt;

    // Move content left
    const vx = 160 * speed;
    for(const o of obstacles){ o.x -= vx*dt; }
    for(const b of orbs){ b.x -= vx*dt; }

    // Recycle columns
    const minX = 140;
    const maxX = W - 120;
    function recycle(list, isObstacle){
      for(const item of list){
        if(item.x < -40){
          item.x = maxX + Math.random()*120;
          const newLane = Math.floor(Util.rand()*lanes);
          item.y = laneY(newLane);
          if(!isObstacle){
            item.perfect = Util.rand()<0.35;
            item.r = item.perfect?14:10;
          }
        }
      }
    }
    recycle(obstacles, true);
    recycle(orbs, false);

    // Player position (loop center)
    const px = 120, py = laneY(lane);

    // Collisions
    for(const o of obstacles){
      const d = Math.hypot(px - o.x, py - o.y);
      if(d < 18 + o.r){
        // hit
        score = Math.max(0, score - 80);
        streak = 0;
        frenzy = false;
        failFlash = 0.5;
        addParticles(px, py, '#ff6b6b', 18);
        Audio.play('fail');
        emote('ðŸ’€');
        return end();
      }
    }
    for(const b of orbs){
      const d = Math.hypot(px - b.x, py - b.y);
      if(d < 16 + b.r){
        // collect
        b.x = -1000; // remove
        const base = b.perfect ? 120 : 60;
        score += Math.floor(base * (frenzy ? 1.8 : 1.0));
        streak += b.perfect ? 1 : 0.5;
        peakStreak = Math.max(peakStreak, Math.floor(streak));
        addParticles(b.x, b.y, b.perfect ? '#00d4ff' : '#7cff7c', b.perfect ? 20 : 12);
        Audio.play(b.perfect ? 'frenzy' : 'orb');
        emote(b.perfect ? 'ðŸ”¥' : 'ðŸ˜¤');
        if(streak >= 5 && !frenzy){
          frenzy = true; frenzyTimer = 4.0;
          toast('Frenzy!');
        }
      }
    }

    // Trail decay
    trail = trail.filter(tl=>{ tl.life-=dt; return tl.life>0; });

    // Fail flash decay
    if(failFlash>0) failFlash-=dt;

    // HUD
    hud.score.textContent = Math.floor(score);
    hud.streak.textContent = Math.floor(streak);
    hud.speed.textContent = speed.toFixed(1) + 'x';

    // Toast/emoji decay
    if(toastTimer>0){ toastTimer-=dt; if(toastTimer<=0) hud.toast.classList.remove('show'); }
    if(emojiTimer>0){ emojiTimer-=dt; if(emojiTimer<=0) hud.emoji.style.opacity=0; }
  }

  // Draw
  function draw(){
    ctx.clearRect(0,0,W,H);

    // Background gradient pulse
    const hue = 200 + Math.sin(t*0.8)*40;
    const grad = ctx.createLinearGradient(0,0,W,0);
    grad.addColorStop(0, `hsl(${hue}, 40%, 10%)`);
    grad.addColorStop(1, `hsl(${hue+40}, 40%, 12%)`);
    ctx.fillStyle = grad; ctx.fillRect(0,0,W,H);

    // Header
    ctx.fillStyle='#0e141d'; ctx.fillRect(0,0,W,48);
    ctx.fillStyle='#9fb3c8'; ctx.font='12px system-ui';
    ctx.fillText('Loop Frenzy â€” tap to jump lanes, collect orbs, dodge spikes. Chain perfects to trigger Frenzy.', 12, 30);

    // Lanes
    ctx.strokeStyle='#1f2a38'; ctx.lineWidth=1.5;
    for(let i=0;i<lanes;i++){
      const y = laneY(i);
      ctx.beginPath(); ctx.moveTo(80,y); ctx.lineTo(W-80,y); ctx.stroke();
    }

    // Orbs
    for(const b of orbs){
      ctx.beginPath(); ctx.arc(b.x,b.y,b.r,0,Math.PI*2);
      ctx.fillStyle = b.perfect ? '#00d4ff' : '#7cff7c';
      ctx.fill(); ctx.strokeStyle='#1f2a38'; ctx.stroke();
    }

    // Obstacles
    for(const o of obstacles){
      ctx.beginPath(); ctx.moveTo(o.x-12,o.y-12);
      ctx.lineTo(o.x+12,o.y);
      ctx.lineTo(o.x-12,o.y+12);
      ctx.closePath();
      ctx.fillStyle = '#ff2d6f';
      ctx.fill(); ctx.strokeStyle='#1f2a38'; ctx.stroke();
    }

    // Player loop
    const px = 120, py = laneY(lane);
    ctx.beginPath(); ctx.arc(px,py,16,0,Math.PI*2);
    ctx.lineWidth = frenzy ? 4 : 3;
    ctx.strokeStyle = frenzy ? '#ffd166' : '#e8f0ff';
    ctx.stroke();
    ctx.fillStyle = frenzy ? '#ffd166' : '#e8f0ff';
    ctx.globalAlpha = 0.15;
    ctx.beginPath(); ctx.arc(px,py,22,0,Math.PI*2); ctx.fill();
    ctx.globalAlpha = 1;

    // Trail
    for(const tl of trail){
      ctx.globalAlpha = Math.max(0, tl.life);
      ctx.beginPath(); ctx.arc(tl.x, tl.y, 10, 0, Math.PI*2);
      ctx.fillStyle = frenzy ? '#ffd166' : '#00d4ff';
      ctx.fill();
      ctx.globalAlpha = 1;
    }

    // Particles
    for(const p of particles){
      p.life-=dt; p.x+=p.vx*dt; p.y+=p.vy*dt; p.vx*=0.98; p.vy*=0.98;
      if(p.life>0){
        ctx.globalAlpha=Math.max(0,p.life);
        ctx.fillStyle=p.color; ctx.fillRect(p.x,p.y,3,3);
        ctx.globalAlpha=1;
      }
    }
    particles = particles.filter(p=>p.life>0);

    // Fail overlay
    if(failFlash>0){
      ctx.fillStyle='rgba(255,107,107,0.08)';
      ctx.fillRect(0,0,W,H);
    }
  }

  function loop(){ update(); draw(); requestAnimationFrame(loop); }

  function start(seed){
    Audio.init();
    Util.setSeed(seed); seedVal=seed;
    hud.seed.textContent = seed;
    hud.start.classList.add('hidden'); hud.gameover.classList.add('hidden'); hud.sharecard.classList.add('hidden');
    score=0; streak=0; peakStreak=0; speed=1; lane=2; frenzy=false; frenzyTimer=0; failFlash=0;
    obstacles=[]; orbs=[]; particles=[]; trail=[];
    buildTrack();
    running=true;
  }

  function end(){
    running=false;
    hud.finalScore.textContent = Math.floor(score);
    hud.finalStreak.textContent = peakStreak;
    hud.gameover.classList.remove('hidden');
    saveScore();
  }

  // UI events
  ui.play.addEventListener('click', ()=>start(seedVal));
  ui.daily.addEventListener('click', ()=>{
    const d=new Date(); const s=d.getFullYear()*10000+(d.getMonth()+1)*100+d.getDate();
    start(s);
  });
  ui.again.addEventListener('click', ()=>start(seedVal));
  ui.copy.addEventListener('click', async ()=>{
    const text=`Loop Frenzy â€” Score ${Math.floor(score)} â€” Peak streak ${peakStreak} â€” ${new Date().toLocaleDateString()}`;
    try{ await navigator.clipboard.writeText(text); toast('Copied score'); }catch{}
  });
  ui.tweet.addEventListener('click', ()=>{
    const text = encodeURIComponent(`Loop Frenzy â€” Score ${Math.floor(score)} â€” Peak streak ${peakStreak} â€” Daily seed ${seedVal}`);
    const url = `https://twitter.com/intent/tweet?text=${text}`;
    window.open(url,'_blank');
  });
  ui.btnDaily.addEventListener('click', ()=>{
    const d=new Date(); const s=d.getFullYear()*10000+(d.getMonth()+1)*100+d.getDate();
    start(s);
  });
  ui.btnMute.addEventListener('click', ()=>{ Audio.toggle(); toast(Audio.muted?'Muted':'Unmuted'); });
  ui.btnShare.addEventListener('click', ()=> hud.sharecard.classList.remove('hidden'));
  ui.closeShare.addEventListener('click', ()=> hud.sharecard.classList.add('hidden'));
  ui.genCard.addEventListener('click', genCard);
  ui.downloadCard.addEventListener('click', ()=>{
    const c=document.getElementById('cardCanvas'); const a=document.createElement('a');
    a.download='loopfrenzy-card.png'; a.href=c.toDataURL('image/png'); a.click();
  });

  // Resize
  window.addEventListener('resize', ()=>{ W=canvas.width=window.innerWidth; H=canvas.height=window.innerHeight; });

  // Share card
  function genCard(){
    const c=document.getElementById('cardCanvas'); const g=c.getContext('2d');
    g.clearRect(0,0,c.width,c.height);
    const grad=g.createLinearGradient(0,0,c.width,0);
    grad.addColorStop(0,'#0b0f14'); grad.addColorStop(1,'#121821');
    g.fillStyle=grad; g.fillRect(0,0,c.width,c.height);
    g.fillStyle='#e8f0ff'; g.font='bold 28px system-ui';
    g.fillText('Loop Frenzy â€” Oneâ€‘Tap Neon Rush', 24, 48);
    g.font='bold 48px system-ui'; g.fillStyle='#7cff7c';
    g.fillText(Util.fmt(Math.floor(score)) + ' pts', 24, 120);
    g.font='bold 28px system-ui'; g.fillStyle='#00d4ff';
    g.fillText('Peak streak ' + peakStreak, 24, 160);
    g.font='bold 22px system-ui'; g.fillStyle='#b388ff';
    g.fillText('Seed: ' + seedVal, 24, 200);
    g.font='18px system-ui'; g.fillStyle='#ffd166';
    g.fillText('ðŸ”¥ Frenzy chains â€¢ ðŸ˜¤ Near misses â€¢ ðŸ’€ Spikes hurt', 24, 240);
    g.fillStyle='#9fb3c8'; g.font='14px system-ui';
    g.fillText(new Date().toLocaleString(), 24, c.height-24);
    toast('Share card generated');
  }

  // Boot
  renderLeader(JSON.parse(localStorage.getItem('loopfrenzy_scores')||'[]'));
  loop();
})();
</script>
</body>
</html>
