<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SANIC THE PORCUPINE: GITHUB EDITION</title>
    <style>
        body { margin: 0; overflow: hidden; background: #005bc5; font-family: 'Comic Sans MS', cursive; }
        #game-canvas { display: block; background: linear-gradient(#87CEEB, #228B22); }
        #ui {
            position: absolute; top: 10px; left: 10px; color: yellow;
            font-size: 24px; text-shadow: 2px 2px black; pointer-events: none;
        }
        .controls {
            position: absolute; bottom: 20px; width: 100%; text-align: center;
            color: white; font-size: 12px; opacity: 0.5;
        }
    </style>
</head>
<body>

<div id="ui">RINGS: <span id="ring-count">0</span><br>SPEED: <span id="speed-val">0</span></div>
<canvas id="game-canvas"></canvas>
<div class="controls">ARROWS TO MOVE | SPACE TO SPINDASH | GOTTA GO FAST</div>

<script>
    const canvas = document.getElementById('game-canvas');
    const ctx = canvas.getContext('2d');
    const ringEl = document.getElementById('ring-count');
    const speedEl = document.getElementById('speed-val');

    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;

    let rings = 0;
    const keys = {};

    const sanic = {
        x: 100, y: canvas.height - 150,
        vx: 0, vy: 0,
        width: 80, height: 80,
        speed: 0.8, friction: 0.95, gravity: 0.6,
        jumpPower: -15, grounded: false
    };

    window.addEventListener('keydown', e => keys[e.code] = true);
    window.addEventListener('keyup', e => keys[e.code] = false);

    function drawSanic() {
        // The "Sanic" Look: Blue circle with messy spikes
        ctx.save();
        ctx.translate(sanic.x + sanic.width/2, sanic.y + sanic.height/2);
        
        // Rotation based on speed
        ctx.rotate(sanic.vx * 0.1);

        // Body
        ctx.fillStyle = '#0000ff';
        ctx.beginPath();
        ctx.arc(0, 0, 35, 0, Math.PI * 2);
        ctx.fill();

        // Messy Spikes
        ctx.strokeStyle = '#0000ff';
        ctx.lineWidth = 8;
        for(let i=0; i<5; i++) {
            ctx.beginPath();
            ctx.moveTo(-30, -10 + (i*10));
            ctx.lineTo(-50, -20 + (i*15));
            ctx.stroke();
        }

        // Eyes (Derpy Sanic Style)
        ctx.fillStyle = 'white';
        ctx.beginPath(); ctx.arc(-10, -10, 10, 0, Math.PI*2); ctx.fill();
        ctx.beginPath(); ctx.arc(15, -10, 10, 0, Math.PI*2); ctx.fill();
        ctx.fillStyle = 'black';
        ctx.beginPath(); ctx.arc(-8, -8, 3, 0, Math.PI*2); ctx.fill();
        ctx.beginPath(); ctx.arc(17, -8, 3, 0, Math.PI*2); ctx.fill();

        ctx.restore();
    }

    function update() {
        // Movement Logic
        if (keys['ArrowRight']) sanic.vx += sanic.speed;
        if (keys['ArrowLeft']) sanic.vx -= sanic.speed;
        if (keys['Space'] && sanic.grounded) {
            sanic.vy = sanic.jumpPower;
            sanic.grounded = false;
        }

        // Physics
        sanic.vx *= sanic.friction;
        sanic.vy += sanic.gravity;
        sanic.x += sanic.vx;
        sanic.y += sanic.vy;

        // Ground Collision
        if (sanic.y + sanic.height > canvas.height - 50) {
            sanic.y = canvas.height - 50 - sanic.height;
            sanic.vy = 0;
            sanic.grounded = true;
        }

        // Screen Wrap
        if (sanic.x > canvas.width) sanic.x = -sanic.width;
        if (sanic.x < -sanic.width) sanic.x = canvas.width;

        // Score logic based on speed
        if (Math.abs(sanic.vx) > 15) {
            rings++;
            ringEl.innerText = Math.floor(rings / 10);
        }
        speedEl.innerText = Math.abs(sanic.vx).toFixed(1);
    }

    function loop() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        
        // Draw Floor
        ctx.fillStyle = '#32CD32';
        ctx.fillRect(0, canvas.height - 50, canvas.width, 50);

        update();
        drawSanic();
        requestAnimationFrame(loop);
    }

    loop();
</script>
</body>
</html>
